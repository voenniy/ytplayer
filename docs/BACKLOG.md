# MusicPlay Backlog

> Приоритизация: **Must** (критично) > **Should** (важно) > **Could** (желательно)

---

## Must

### ~~#4 Bug: Не работает сортировка~~ DONE
- **Причина:** `appendSearchResults` не дедуплицировал треки → дубликаты `key` → React reconciliation ломался
- **Фикс:** `client/src/stores/player.ts` — фильтр по `existingIds` при аппенде

### #1 Push в GitHub + CI/CD на сервер
- **Тип:** DevOps
- **Описание:** Настроить деплой: push в GitHub, автоматический деплой на сервер
- **Вопросы:** Какой сервер? VPS/Docker? Домен?

---

## Should

### #6 Кнопка "В очередь" без дополнительного меню
- **Тип:** UX
- **Описание:** Сейчас добавление в очередь через DropdownMenu (3 точки). Нужна отдельная кнопка для быстрого добавления в очередь. DropdownMenu оставить для "В плейлист"
- **Файлы:** `client/src/components/TrackList.tsx`

### #3 Значок проигрывания текущей композиции
- **Тип:** UX
- **Описание:** Индикатор текущего трека (анимация/иконка) должен отображаться:
  - В десктоп-плеере
  - В результатах поиска (TrackList)
  - В очереди (Queue) — частично есть
  - В плейлисте (PlaylistDetail)
- **Файлы:** `TrackList.tsx`, `PlaylistDetail.tsx`, `Queue.tsx`, `Player.tsx`

### #5 Формат времени + кнопка повтора
- **Тип:** UX
- **Описание:**
  - Время: отображать часы для длинных треков (1:23:45 вместо 83:45)
  - Кнопка Repeat: повтор текущего трека (loop)
- **Файлы:** `Player.tsx`, `FullscreenPlayer.tsx`, `MiniPlayer.tsx`, `stores/player.ts`

### #7 Курсор на прогресс-баре плеера
- **Тип:** UX (мелкий фикс)
- **Описание:** При наведении на полоску воспроизведения курсор должен меняться на pointer/grab
- **Файлы:** `Player.tsx`, `FullscreenPlayer.tsx`

---

## Could

### #2 Приложение для Android (PWA)
- **Тип:** Фича
- **Описание:** Отдельное приложение для Android. Варианты: PWA (manifest + service worker), Capacitor, или TWA (Trusted Web Activity)
- **Зависимости:** #1 (нужен деплой на сервер с HTTPS)
- **Вопросы:** PWA vs нативная обёртка?
